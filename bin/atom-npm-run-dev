#!/usr/bin/env zsh

target_dir="`git rev-parse --show-toplevel`"
terminal-notifier -title 'NPM' -subtitle $target_dir -message 'Compiling SASS file...'
runcmd="`cd $target_dir && npm run dev 2>&1`"

# terminal-notifier -title 'îŸ· Project X' -subtitle 'New tag detected' -message 'Success' -open 'http://laravel.local/demo/starter' -activate 'com.apple.AddressBook' -execute COMMAND -ignoreDnD

if [[ $? == 0 ]]; then
  # terminal-notifier -title '---- NPM ----' -message 'Build and compiled successfully'
  echo -ne $runcmd
  exit 0
else
  # terminal-notifier -title '---- NPM ----' -message $runcmd
  echo -ne $runcmd
  exit 1
fi
